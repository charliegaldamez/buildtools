var stemmer=function(u){u=u.toLowerCase();var J=u;u=u.replace(/qu/g,"qU");u=u.replace(/([aeiouyâàëéêèïîôûù])u([aeiouyâàëéêèïîôûù])/g,"$1U$2");u=u.replace(/([aeiouyâàëéêèïîôûù])i([aeiouyâàëéêèïîôûù])/g,"$1I$2");u=u.replace(/([aeiouyâàëéêèïîôûù])y/g,"$1Y");u=u.replace(/y([aeiouyâàëéêèïîôûù])/g,"Y$1");var r="";var s=-1;if(u.search(/^(par|col|tap)/)!=-1||u.search(/^[aeiouyâàëéêèïîôûù]{2}/)!=-1){r=u.substring(3);s=3}else{s=u.substring(1).search(/[aeiouyâàëéêèïîôûù]/);if(s!=-1){s+=2;r=u.substring(s)}else{s=u.length}}var D=u.search(/[aeiouyâàëéêèïîôûù][^aeiouyâàëéêèïîôûù]/);var c="";if(D!=-1){D+=2;c=u.substring(D)}else{D=u.length}var n=-1;var b="";if(D!=-1){n=c.search(/[aeiouyâàëéêèïîôûù][^aeiouyâàëéêèïîôûù]/);if(n!=-1){n+=2;b=c.substring(n);n+=D}else{b="";n=u.length}}if(D!=-1&&D<3){D=3;c=u.substring(D)}var y=u.search(/(ance|iqUe|isme|able|iste|eux|ances|iqUes|ismes|ables|istes)$/);var h=u.search(/(atrice|ateur|ation|atrices|ateurs|ations)$/);var C=u.search(/(logie|logies)$/);var l=u.search(/(usion|ution|usions|utions)$/);var F=u.search(/(ence|ences)$/);var o=u.search(/(ement|ements)$/);var K=u.search(/(ité|ités)$/);var p=u.search(/(if|ive|ifs|ives)$/);var a=u.search(/(eaux)$/);var w=u.search(/(aux)$/);var e=u.search(/(euse|euses)$/);var x=u.search(/[^aeiouyâàëéêèïîôûù](issement|issements)$/);var f=u.search(/(amment)$/);var A=u.search(/(emment)$/);var j=u.search(/[aeiouyâàëéêèïîôûù](ment|ments)$/);if(y!=-1&&y>=n){u=u.substring(0,y)}else{if(h!=-1&&h>=n){u=u.substring(0,h);var E=u.search(/(ic)$/);if(E!=-1&&E>=n){u=u.substring(0,E)}else{u=u.replace(/(ic)$/,"iqU")}}else{if(C!=-1&&C>=n){u=u.replace(/(logie|logies)$/,"log")}else{if(l!=-1&&l>=n){u=u.replace(/(usion|ution|usions|utions)$/,"u")}else{if(F!=-1&&F>=n){u=u.replace(/(ence|ences)$/,"ent")}else{if(o!=-1&&o>=s){u=u.substring(0,o);if(u.search(/(iv)$/)>=n){u=u.replace(/(iv)$/,"");if(u.search(/(at)$/)>=n){u=u.replace(/(at)$/,"")}}else{if(u.search(/(eus)$/)!=-1){var I=u.search(/(eus)$/);if(I>=n){u=u.substring(0,I)}else{if(I>=D){u=u.substring(0,I)+"eux"}}}else{if(u.search(/(abl|iqU)$/)>=n){u=u.replace(/(abl|iqU)$/,"")}else{if(u.search(/(ièr|Ièr)$/)>=s){u=u.replace(/(ièr|Ièr)$/,"i")}}}}}else{if(K!=-1&&K>=n){u=u.substring(0,K);if(u.search(/(abil)$/)!=-1){var H=u.search(/(abil)$/);if(H>=n){u=u.substring(0,H)}else{u=u.substring(0,H)+"abl"}}else{if(u.search(/(ic)$/)!=-1){var G=u.search(/(ic)$/);if(G!=-1&&G>=n){u=u.substring(0,G)}else{u=u.replace(/(ic)$/,"iqU")}}else{if(u.search(/(iv)$/)!=n){u=u.replace(/(iv)$/,"")}}}}else{if(p!=-1&&p>=n){u=u.substring(0,p);if(u.search(/(at)$/)>=n){u=u.replace(/(at)$/,"");if(u.search(/(ic)$/)>=n){u=u.replace(/(ic)$/,"")}else{u=u.replace(/(ic)$/,"iqU")}}}else{if(a!=-1){u=u.replace(/(eaux)/,"eau")}else{if(w>=D){u=u.replace(/(aux)/,"al")}else{if(e!=-1){var q=u.search(/(euse|euses)$/);if(q>=n){u=u.substring(0,q)}else{if(q>=D){u=u.substring(0,q)+"eux"}}}else{if(x!=-1&&x>=D){u=u.substring(0,x+1)}else{if(f!=-1&&f>=s){u=u.replace(/(amment)$/,"ant")}else{if(A!=-1&&A>=s){u=u.replace(/(emment)$/,"ent")}else{if(j!=-1&&j>=s){u=u.substring(0,j+1)}}}}}}}}}}}}}}}var k=u;var v=false;if(J==u.toLowerCase()||J.search(/(amment|emment|ment|ments)$/)!=-1){v=true;var g=/([^aeiouyâàëéêèïîôûù])(îmes|ît|îtes|i|ie|ies|ir|ira|irai|iraIent|irais|irait|iras|irent|irez|iriez|irions|irons|iront|is|issaIent|issais|issait|issant|issante|issantes|issants|isse|issent|isses|issez|issiez|issions|issons|it)$/i;if(u.search(g)>=s){u=u.replace(g,"$1")}}if(v&&k==u){if(u.search(/(ions)$/)>=n){u=u.replace(/(ions)$/,"")}else{var B=/(é|ée|ées|és|èrent|er|era|erai|eraIent|erais|erait|eras|erez|eriez|erions|erons|eront|ez|iez)$/i;if(u.search(B)>=s){u=u.replace(B,"")}else{var m=/e(âmes|ât|âtes|a|ai|aIent|ais|ait|ant|ante|antes|ants|as|asse|assent|asses|assiez|assions)$/i;if(u.search(m)>=s){u=u.replace(m,"")}else{var d=/(âmes|ât|âtes|a|ai|aIent|ais|ait|ant|ante|antes|ants|as|asse|assent|asses|assiez|assions)$/i;if(u.search(d)>=s){u=u.replace(d,"")}}}}}if(J!=u.toLowerCase()){var t="";if(u.search(/Y$/)!=-1){u=u.replace(/Y$/,"i")}else{if(u.search(/ç$/)!=-1){u=u.replace(/ç$/,"c")}}}else{if(u.search(/([^aiouès])s$/)>=s){u=u.replace(/([^aiouès])s$/,"$1")}var z=u.search(/ion$/);if(z>=n&&u.search(/[st]ion$/)>=s){u=u.substring(0,z)}else{var i=u.search(/(ier|ière|Ier|Ière)$/);if(i!=-1&&i>=s){u=u.substring(0,i)+"i"}else{if(u.search(/e$/)>=s){u=u.replace(/e$/,"")}else{if(u.search(/guë$/)>=s){u=u.replace(/guë$/,"gu")}}}}}u=u.replace(/(en|on)(n)$/,"$1");u=u.replace(/(ett)$/,"et");u=u.replace(/(el|eil)(l)$/,"$1");u=u.replace(/[éè]([^aeiouyâàëéêèïîôûù]+)$/,"e$1");u=u.toLowerCase();return u};var eqOut=new Array();var noteqOut=new Array();var eqCount=0;function testFr(){var d=new Date().getTime();eqCount=0;eqOut=new Array();noteqOut=new Array();for(var b=0;b<voc.length;b++){if(COut[b]==stemmer(voc[b])){eqCount++;eqOut.push("v: "+voc[b]+" c: "+COut[b])}else{noteqOut.push(voc[b]+", c: "+COut[b]+" s:"+stemmer(voc[b]))}}var a=new Date().getTime();var c=a-d;alert("equal count= "+eqCount+" out of "+voc.length+" words. time= "+c+" ms")};